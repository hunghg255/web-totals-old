import Question from '../../components/Question.tsx'
import Answer from '../../components/Answer.tsx'

# 131-140

### 131. Output lÃ  gÃ¬?

```javascript
const emojis = ['ğŸ¥‘', ['âœ¨', 'âœ¨', ['ğŸ•', 'ğŸ•']]]

console.log(emojis.flat(1))
```

- A: `['ğŸ¥‘', ['âœ¨', 'âœ¨', ['ğŸ•', 'ğŸ•']]]`
- B: `['ğŸ¥‘', 'âœ¨', 'âœ¨', ['ğŸ•', 'ğŸ•']]`
- C: `['ğŸ¥‘', ['âœ¨', 'âœ¨', 'ğŸ•', 'ğŸ•']]`
- D: `['ğŸ¥‘', 'âœ¨', 'âœ¨', 'ğŸ•', 'ğŸ•']`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: B

Vá»›i phÆ°Æ¡ng thá»©c `flat`, ta cÃ³ thá»ƒ táº¡o má»™t máº£ng má»›i vá»›i cÃ¡c pháº§n tá»­ Ä‘Ã£ Ä‘Æ°á»£c `flattened` (lÃ m pháº³ng). Äá»™ sÃ¢u cá»§a máº£ng Ä‘Ã£ lÃ m pháº³ng sáº½ phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ ta Ä‘Æ°a vÃ o. Trong trÆ°á»ng há»£p nÃ y ta Ä‘Æ°a vÃ o lÃ  `1` (thá»±c ra Ä‘Ã¢y lÃ  giÃ¡ trá»‹ default, ta khÃ´ng Ä‘Æ°a vÃ o cÅ©ng khÃ´ng sao), cÃ³ nghÄ©a lÃ  chá»‰ nhá»¯ng pháº§n tá»­ á»Ÿ Ä‘á»™ sÃ¢u 1 sáº½ Ä‘Æ°á»£c lÃ m pháº³ng. ChÃºng lÃ `['ğŸ¥‘']` vÃ  `['âœ¨', 'âœ¨', ['ğŸ•', 'ğŸ•']]` trong trÆ°á»ng há»£p nÃ y. Ná»‘i láº¡i ta sáº½ cÃ³ máº£ng má»›i `['ğŸ¥‘', 'âœ¨', 'âœ¨', ['ğŸ•', 'ğŸ•']]`.

</p>
</details>

### 132. Output lÃ  gÃ¬?

```javascript
class Counter {
  constructor() {
    this.count = 0
  }

  increment() {
    this.count++
  }
}

const counterOne = new Counter()
counterOne.increment()
counterOne.increment()

const counterTwo = counterOne
counterTwo.increment()

console.log(counterOne.count)
```

- A: `0`
- B: `1`
- C: `2`
- D: `3`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: D

`counterOne` lÃ  má»™t instance cá»§a class `Counter`. Trong counter class cÃ³ thuá»™c tÃ­nh `count` bÃªn trong constructor, vÃ  má»™t phÆ°Æ¡ng thá»©c `increment`. Äáº§u tiÃªn chÃºng ta gá»i phÆ°Æ¡ng thá»©c `increment` hai láº§n báº±ng `counterOne.increment()`. NÃªn hiá»‡n táº¡i giÃ¡ trá»‹ cá»§a `counterOne.count` lÃ  `2`.

<img src="https://i.imgur.com/KxLlTm9.png" width="400" />

Sau Ä‘Ã³ chÃºng ta cÃ³ thÃªm má»™t biáº¿n má»›i lÃ  `counterTwo`, vÃ  set cho nÃ³ giÃ¡ trá»‹ báº±ng vá»›i `counterOne`. Do object Ä‘Æ°á»£c tÆ°Æ¡ng tÃ¡c báº±ng reference, nÃªn viá»‡c nÃ y tÆ°Æ¡ng á»©ng vá»›i ta Ä‘Ã£ táº¡o thÃªm má»™t reference Ä‘áº¿n bá»™ nhá»› mÃ  biáº¿n `counterOne` Ä‘Ã£ trá» vÃ o. Do chÃºng cÃ³ chung bá»™ nhá»›, báº¥t cá»© thay Ä‘á»•i nÃ o trÃªn `counterTwo` cÅ©ng sáº½ thay Ä‘á»•i trÃªn `counterOne`. LÃºc nÃ y `counterTwo.count` cÅ©ng sáº½ lÃ  `2`.

Ta gá»i hÃ m `counterTwo.increment()` Ä‘á»ƒ tÄƒng `count` lÃªn `3`. Sau Ä‘Ã³ chÃºng ta in ra `count` á»Ÿ `counterOne`, káº¿t quáº£ lÃ  `3`.

<img src="https://i.imgur.com/BNBHXmc.png" width="400" />

</p>
</details>

### 133. Output lÃ  gÃ¬?

```javascript
const myPromise = Promise.resolve(Promise.resolve('Promise!'))

function funcOne() {
  myPromise.then((res) => res).then((res) => console.log(res))
  setTimeout(() => console.log('Timeout!', 0))
  console.log('Last line!')
}

async function funcTwo() {
  const res = await myPromise
  console.log(await res)
  setTimeout(() => console.log('Timeout!', 0))
  console.log('Last line!')
}

funcOne()
funcTwo()
```

- A: `Promise! Last line! Promise! Last line! Last line! Promise!`
- B: `Last line! Timeout! Promise! Last line! Timeout! Promise!`
- C: `Promise! Last line! Last line! Promise! Timeout! Timeout!`
- D: `Last line! Promise! Promise! Last line! Timeout! Timeout!`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: D

Äáº§u tiÃªn chÃºng ta gá»i `funcOne`. Trong dÃ²ng Ä‘áº§u tiÃªn cá»§a `funcOne`, chÃºng ta gá»i `myPromise`, Ä‘Ã¢y lÃ  má»™t hÃ m _báº¥t Ä‘á»“ng bá»™_. Trong khi chá» promise nÃ y hoÃ n thÃ nh, nÃ³ sáº½ tiáº¿p tá»¥c thá»±c thi cÃ¡c dÃ²ng khÃ¡c trong `funcOne`. DÃ²ng tiáº¿p theo lÃ  cÅ©ng lÃ  má»™t hÃ m _báº¥t Ä‘á»“ng bá»™_ `setTimeout`, pháº§n callback cá»§a nÃ³ sáº½ Ä‘Æ°á»£c gá»­i tá»›i Web API (cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o cÃ¢u há»i trÆ°á»›c Ä‘Ã³ Ä‘á»ƒ hiá»ƒu vá» callstack vÃ  Web API).

Do cáº£ promise vÃ  timeout Ä‘á»u lÃ  nhá»¯ng hÃ m xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™, nÃªn trong khi chá» chÃºng hoÃ n thÃ nh thÃ¬ cÃ¡c dÃ²ng tiáº¿p theo váº«n tiáº¿p tá»¥c Ä‘Æ°á»£c thá»±c thi. CÃ³ nghÄ©a lÃ  `Last line!` sáº½ Ä‘Æ°á»£c in ra Ä‘áº§u tiÃªn, do nÃ³ lÃ  má»™t hÃ m cháº¡y _Ä‘á»“ng bá»™_. VÃ  Ä‘Ã¢y cÅ©ng lÃ  dÃ²ng cuá»‘i cÃ¹ng cá»§a hÃ m `funcOne`, khi nÃ y promise sáº½ Ä‘Æ°á»£c resolve, tráº£ vá» `Promise!`. Tuy nhiÃªn do ta tiáº¿p tá»¥c gá»i hÃ m `funcTwo()`, call stack cá»§a ta váº«n chÆ°a rá»—ng, nÃªn callback cá»§a `setTimeout` váº«n chÆ°a thá»ƒ Ä‘Æ°á»£c Ä‘Æ°a vÃ o callstack (váº«n Ä‘ang nÄƒm á»Ÿ Web API).

Trong hÃ m `funcTwo` Ä‘áº§u tiÃªn ta sáº½ _awaiting_ myPromise. Vá»›i tá»« khÃ³a `await`, Ta sáº½ táº¡m dá»«ng thá»±c thi cho tá»›i khi n Ã o promise Ä‘Æ°á»£c resolved (hay rejected). Khi nÃ y ta sáº½ in ra giÃ¡ trá»‹ cá»§a `res` (do báº£n thÃ¢n hÃ m promise láº¡i tráº£ vá» má»™t promise). NÃ³ sáº½ in ra `Promise!`.

DÃ²ng tiáº¿p theo láº¡i lÃ  má»™t hÃ m _báº¥t Ä‘á»“ng bá»™_ `setTimeout`, callback khi nÃ y tiáº¿p tá»¥c Ä‘Æ°á»£c gá»­i tá»›i Web API.

Ta tiáº¿p tá»¥c thá»±c thi dÃ²ng cuá»‘i cÃ¹ng cá»§a `funcTwo`, tráº£ vá» `Last line!`. Khi nÃ y `funcTwo` Ä‘Ã£ lÃ m rá»—ng call stack. CÃ¡c callback khi nÃ£y (`() => console.log("Timeout!")` tá»« `funcOne`, vÃ  `() => console.log("Timeout!")` tá»« `funcTwo`) láº§n lÆ°á»£t Ä‘Æ°á»£c Ä‘Æ°a vÃ o trong call stack. Callback Ä‘áº§u tiÃªn in ra `Timeout!`. Callback thá»© hai in ra `Timeout!`. Káº¿t quáº£ cuá»‘i cÃ¹ng sáº½ lÃ  `Last line! Promise! Promise! Last line! Timeout! Timeout!`

</p>
</details>

### 134. LÃ m tháº¿ nÃ o cÃ³ thá»ƒ gá»i hÃ m `sum` trong `index.js` tá»« `sum.js?`

```javascript
// sum.js
export default function sum(x) {
  return x + x
}

// index.js
import * as sum from './sum'
```

- A: `sum(4)`
- B: `sum.sum(4)`
- C: `sum.default(4)`
- D: Default aren't imported with `*`, only named exports

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: C

Vá»›i dáº¥u hoa thá»‹ `*`, ta sáº½ import táº¥t cáº£ nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c export ra bá»Ÿi file Ä‘Ã³, cáº£ default láº«n nhá»¯ng hÃ m cÃ³ tÃªn. Náº¿u ta cÃ³ má»™t dÃ²ng nhÆ° sau:

```javascript
// info.js
export const name = 'Lydia'
export const age = 21
export default 'I love JavaScript'

// index.js
import * as info from './info'
console.log(info)
```

ThÃ¬ káº¿t quáº£ sáº½ lÃ :

```javascript
{
  default: "I love JavaScript",
  name: "Lydia",
  age: 21
}
```

Trong vÃ­ dá»¥ hÃ m `sum`, nÃ³ giá»‘ng vá»›i chÃºng ta Ä‘Ã£ import hÃ m `sum` nhÆ° tháº¿ nÃ y:

```javascript
{ default: function sum(x) { return x + x } }
```

Ta cÃ³ thá»ƒ gá»i hÃ m nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng `sum.default`

</p>
</details>

### 135. Output lÃ  gÃ¬?

```javascript
const handler = {
  set: () => console.log('Added a new property!'),
  get: () => console.log('Accessed a property!'),
}

const person = new Proxy({}, handler)

person.name = 'Lydia'
person.name
```

- A: `Added a new property!`
- B: `Accessed a property!`
- C: `Added a new property!` `Accessed a property!`
- D: Nothing gets logged

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: C

Vá»›i Proxy object, ta cÃ³ thá»ƒ add thÃªm Ä‘Æ°á»£c cÃ¡c hÃ nh vi (behavior) cho object báº±ng cÃ¡ch Ä‘Æ°a nÃ³ vÃ o lÃ m Ä‘á»‘i sá»‘ thá»© hai. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta Ä‘Æ°a vÃ o object `handler` cÃ³ hai thuá»™c tÃ­nh: `set` vÃ  `get`. `set` sáº½ Ä‘Æ°á»£c gá»i má»—i khi ta _thay Ä‘á»•i_ giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh, `get` sáº½ Ä‘Æ°á»£c gá»i má»—i khi ta _truy cáº­p_ giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh.

GiÃ¡ trá»‹ cá»§a `person` sáº½ lÃ  Ä‘á»‘i sá»‘ Ä‘áº§u tiÃªn Ä‘Æ°a vÃ o, lÃ  má»™t object rá»—ng `{}`. HÃ nh vi cá»§a `person` lÃ  Ä‘á»‘i sá»‘ thá»© hai, tá»©c `handler`. Do Ä‘Ã³ mÃ´i khi ta thÃªm thuá»™c tÃ­nh cá»§a obejct `person`, `set` sáº½ Ä‘Æ°á»£c gá»i. Náº¿u ta truy cáº­p thuá»™c tÃ­nh cá»§a `person` thÃ¬ `get` sáº½ Ä‘Æ°á»£c gá»i.

Äáº§u tiÃªn ra thÃªm vÃ o thuá»™c tÃ­nh `name` cho proxy object (`person.name = "Lydia"`). `set` Ä‘Æ°á»£c gá»i vÃ  in ra `"Added a new property!"`.

Sau Ä‘Ã³ chÃºng truy cáº­p thuá»™c tÃ­nh nÃ y, `get` Ä‘Æ°á»£c gá»i vÃ  in ra `"Accessed a property!"`.

</p>
</details>

### 136. CÃ¡ch nÃ o sau Ä‘Ã¢y sáº½ thay Ä‘á»•i object `person`?

```javascript
const person = { name: 'Lydia Hallie' }

Object.seal(person)
```

- A: `person.name = "Evan Bacon"`
- B: `person.age = 21`
- C: `delete person.name`
- D: `Object.assign(person, { age: 21 })`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: A

Vá»›i `Object.seal` ta cÃ³ thá»ƒ ngÄƒn _thÃªm vÃ o_ cÃ¡c thuá»™c tÃ­nh má»›i, hay _xÃ³a Ä‘i_ cÃ¡c thuá»™c tÃ­nh cÅ©.

Tuy nhiÃªn ta váº«n cÃ³ thá»ƒ _thay Ä‘á»•i_ cÃ¡c thuá»™c tÃ­nh cÅ©.

</p>
</details>

### 137. CÃ¡ch nÃ o sau Ä‘Ã¢y cÃ³ thá»ƒ thay Ä‘á»•i object `person`?

```javascript
const person = {
  name: 'Lydia Hallie',
  address: {
    street: '100 Main St',
  },
}

Object.freeze(person)
```

- A: `person.name = "Evan Bacon"`
- B: `delete person.address`
- C: `person.address.street = "101 Main St"`
- D: `person.pet = { name: "Mara" }`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: C

PhÆ°Æ¡ng thá»©c `Object.freeze` sáº½ _Ä‘Ã³ng bÄƒng_ object. Ta khÃ´ng thá»ƒ thÃªm/sá»­a/xÃ³a báº¥t kÃ¬ thuá»™c tÃ­nh nÃ o.

Tuy nhiÃªn trÃªn thá»±c táº¿ Ä‘Ã¢y chá»‰ lÃ  Ä‘Ã³ng bÄƒng _nÃ´ng_ (_shallowly_) object, cÃ³ nghÄ©a lÃ  nÃ³ chá»‰ Ä‘Ã³ng bÄƒng cÃ¡c thuá»™c tÃ­nh _trá»±c tiáº¿p_ cá»§a object mÃ  thÃ´i. Náº¿u thuá»™c tÃ­nh láº¡i lÃ  má»™t object khÃ¡c, nhÆ° `address` trong trÆ°á»ng há»£p nÃ y, thuá»™c tÃ­nh bÃªn trong cá»§a `address` sáº½ khÃ´ng bá»‹ Ä‘Ã³ng bÄƒng, vÃ  ta váº«n cÃ³ thá»ƒ chá»‰nh sá»­a nhÆ° bÃ¬nh thÆ°á»ng.

</p>
</details>

### 138. Output lÃ  gÃ¬?

```javascript
const add = (x) => x + x

function myFunc(num = 2, value = add(num)) {
  console.log(num, value)
}

myFunc()
myFunc(3)
```

- A: `2` `4` and `3` `6`
- B: `2` `NaN` and `3` `NaN`
- C: `2` `Error` and `3` `6`
- D: `2` `4` and `3` `Error`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: A

Äáº§u tiÃªn, ta gá»i hÃ m `myFunc()` nhÆ°ng khÃ´ng Ä‘Æ°a vÃ o Ä‘á»‘i sá»‘ nÃ o. Do Ä‘Ã³ `num` vÃ  `value` sáº½ nháº­n cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh: `num` lÃ  `2`, vÃ  `value` sáº½ lÃ  giÃ¡ trá»‹ tráº£ vá» cá»§a hÃ m `add`. Vá»›i hÃ m `add`, ta Ä‘Æ°a `num` vÃ o lÃ m Ä‘á»‘i sá»‘, tá»©c `2`. `add` tráº£ vá» `4`, Ä‘Ã¢y sáº½ lÃ  giÃ¡ trá»‹ cá»§a `value`.

Sau Ä‘Ã³ ta gá»i hÃ m `myFunc(3)`, khi nÃ y `3` sáº½ lÃ  giÃ¡ trá»‹ cá»§a `num`. Ta khÃ´ng Ä‘Æ°a vÃ o giÃ¡ trá»‹ cho `value`. LÃºc nÃ y `value` tiáº¿p tá»¥c nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh: giÃ¡ trá»‹ tráº£ vá» cá»§a hÃ m `add`. Trong `add`, ta Ä‘Æ°a vÃ o `num`, khi nÃ y lÃ  `3`. `add` sáº½ tráº£ vá» `6`, Ä‘Ã¢y sáº½ lÃ  giÃ¡ trá»‹ cá»§a `value`.

</p>
</details>

### 139. Output lÃ  gÃ¬?

```javascript
class Counter {
  #number = 10

  increment() {
    this.#number++
  }

  getNum() {
    return this.#number
  }
}

const counter = new Counter()
counter.increment()

console.log(counter.#number)
```

- A: `10`
- B: `11`
- C: `undefined`
- D: `SyntaxError`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: D

Vá»›i cÃº phÃ¡p ES2020, ta cÃ³ thá»ƒ thÃªm cÃ¡c thuá»™c tÃ­nh private vÃ o class báº±ng cÃ¡ch sá»­ dá»¥ng `#`. Ta khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c biáº¿n nÃ y bÃªn ngoÃ i class. Khi ta in ra `counter.#number`, má»™t SyntaxError sáº½ Ä‘Æ°á»£c throw: ta khÃ´ng thá»ƒ truy cáº­p tá»« phÃ­a ngoÃ i class `Counter`!

</p>
</details>

### 140. CÃ¢u lá»‡nh cÃ²n thiáº¿u lÃ  gÃ¬?

```javascript
const teams = [
  { name: 'Team 1', members: ['Paul', 'Lisa'] },
  { name: 'Team 2', members: ['Laura', 'Tim'] },
]

function* getMembers(members) {
  for (let i = 0; i < members.length; i++) {
    yield members[i]
  }
}

function* getTeams(teams) {
  for (let i = 0; i < teams.length; i++) {
    // âœ¨ SOMETHING IS MISSING HERE âœ¨
  }
}

const obj = getTeams(teams)
obj.next() // { value: "Paul", done: false }
obj.next() // { value: "Lisa", done: false }
```

- A: `yield getMembers(teams[i].members)`
- B: `yield* getMembers(teams[i].members)`
- C: `return getMembers(teams[i].members)`
- D: `return yield getMembers(teams[i].members)`

<details>
<summary>
|<b>ÄÃ¡p Ã¡n</b>
</summary>
<p>

#### ÄÃ¡p Ã¡n: B

Ta duyá»‡t vÃ  in ra giÃ¡ trá»‹ cá»§a tá»«ng member bÃªn trong `members`, mÃ  `members` láº¡i náº±m bÃªn trong máº£ng `teams`, ta cáº§n Ä‘Æ°a vÃ o Ä‘á»‘i sá»‘ `teams[i].members` cho hÃ m generator `getMembers` trong pháº§n code thiáº¿u. HÃ m generator sáº½ tráº£ vá» má»™t generator object. Äá»ƒ duyá»‡t qua tá»«ng pháº§n tá»­ cá»§a má»™t generator object, ta dÃ¹ng tá»« khÃ³a `yield*`.

Náº¿u ta dÃ¹ng `yield`, `return yield`, hay `return`, toÃ n bá»™ generator sáº½ Ä‘Æ°á»£c tráº£ vá» trong láº§n Ä‘áº§u tiÃªn chÃºng ta gá»i phÆ°Æ¡ng thá»©c `next`.

</p>
</details>
